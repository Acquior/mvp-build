<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acquior Technology</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.ethers.io/lib/ethers-5.0.umd.min.js"></script>
</head>
<body>
    <header>
        <div class="logo">
            <img src="logo.png" alt="Acquior Technology Logo">
        </div>
        <button class="connect-wallet" onclick="connectWallet()">Connect Wallet</button>
    </header>
    <nav>
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#small-business">Small Business</a></li>
            <li><a href="#investor">Investor</a></li>
            <li><a href="#big-business">Big Business</a></li>
        </ul>
    </nav>
    <main id="home">
        <h1>Welcome to Acquior Technology</h1>
        <p>Status: <span id="status">Not connected</span></p>
    </main>
    <footer>
        <nav class="footer-nav">
            <a href="#about">About</a>
            <a href="#contact">Contact</a>
            <a href="#terms">Terms of Service</a>
        </nav>
    </footer>
    <script>
        let provider;
        let signer;
        let contract;

        const contractAddress = '0xe4d5De9eb7b059d6AC206a021aCa3967975658d9';
        const contractABI = [
            "function createInvoice(address recipient, uint256 amount) public returns (uint256)",
            "function payInvoice(uint256 tokenId) public payable",
            "function listInvoiceForSale(uint256 tokenId, uint256 salePrice) public",
            "function buyInvoice(uint256 tokenId) public payable",
            "function getInvoiceDetails(uint256 tokenId) public view returns (uint256, address, address, bool, bool, uint256)",
            "event InvoiceCreated(uint256 indexed tokenId, uint256 amount, address indexed issuer, address indexed recipient)"
        ];

        async function connectWallet() {
            if (typeof window.ethereum !== 'undefined') {
                try {
                    await ethereum.request({ method: 'eth_requestAccounts' });
                    provider = new ethers.providers.Web3Provider(window.ethereum);
                    signer = provider.getSigner();
                    contract = new ethers.Contract(contractAddress, contractABI, signer);
                    const address = await signer.getAddress();
                    document.querySelector('.connect-wallet').textContent = `Connected: ${address.slice(0, 6)}...${address.slice(-4)}`;
                    document.getElementById('status').textContent = 'Connected';
                } catch (error) {
                    console.error('Failed to connect wallet:', error);
                    document.getElementById('status').textContent = 'Connection failed';
                }
            } else {
                alert('Please install MetaMask!');
            }
        }
    </script>
</body>
</html>
