<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Martech Fin Home</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.ethers.io/lib/ethers-5.0.umd.min.js"></script>
    <script>
        let contract;
        let signer;

        const contractAddress = '0x830CC57aA0A99dc7F8C3154f7c5F58cED390aAbe';
        const contractABI = [
            "function createInvoice(address recipient, uint256 amount) public returns (uint256)",
            "function payInvoice(uint256 tokenId) public payable",
            "function listInvoiceForSale(uint256 tokenId, uint256 salePrice) public",
            "function buyInvoice(uint256 tokenId) public payable",
            "event InvoiceCreated(uint256 indexed tokenId, uint256 amount, address indexed issuer, address indexed recipient)"
        ];

        async function connectWallet() {
            if (typeof window.ethereum !== 'undefined') {
                try {
                    await ethereum.request({ method: 'eth_requestAccounts' });
                    const provider = new ethers.providers.Web3Provider(window.ethereum);
                    signer = provider.getSigner();
                    contract = new ethers.Contract(contractAddress, contractABI, signer);
                    
                    const address = await signer.getAddress();
                    document.querySelector('.connect-wallet').textContent = `Connected: ${address.slice(0, 6)}...${address.slice(-4)}`;
                    
                    console.log('Wallet connected');
                } catch (error) {
                    console.error('Failed to connect wallet:', error);
                }
            } else {
                alert('Please install MetaMask!');
            }
        }

        function navigateTo(page) {
            window.location.href = `${page}.html`;
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector('.connect-wallet').addEventListener('click', connectWallet);
            
            document.querySelectorAll('.card').forEach(card => {
                card.addEventListener('click', (e) => {
                    e.preventDefault();
                    const page = e.currentTarget.querySelector('h2').textContent.toLowerCase().replace(' ', '-');
                    navigateTo(page);
                });
            });
        });
    </script>
</head>
<body>
    <header>
        <div class="logo">
            <img src="logo.png" alt="Acquior Technology Logo">
        </div>
        <button class="connect-wallet">Connect Wallet</button>
    </header>

    <main>
        <a href="#" class="card">
            <div class="icon">
                <img src="small-business-icon.png" alt="Small Business Icon">
            </div>
            <div class="content">
                <h2>Small Business</h2>
                <p>Empowering small businesses with financial solutions tailored to their needs.</p>
            </div>
        </a>

        <a href="#" class="card">
            <div class="icon">
                <img src="investor-icon.png" alt="Investor Icon">
            </div>
            <div class="content">
                <h2>Investor</h2>
                <p>Comprehensive tools and insights for savvy investors.</p>
            </div>
        </a>

        <a href="#" class="card">
            <div class="icon">
                <img src="big-business-icon.png" alt="Big Business Icon">
            </div>
            <div class="content">
                <h2>Big Business</h2>
                <p>Robust financial solutions for large enterprises.</p>
            </div>
        </a>
    </main>

    <footer>
        <a href="#">About</a>
        <a href="#">Contact</a>
        <a href="#">Terms of Service</a>
    </footer>
</body>
</html>
